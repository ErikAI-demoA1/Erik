<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>üì≤ ErikAI SMS</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      background-color: #fdfdfd;
    }
    input, textarea {
      width: 90%;
      max-width: 400px;
      padding: 10px;
      margin: 10px auto;
      font-size: 16px;
    }
    button {
      background-color: #e60000;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #cc0000;
    }
    .warning {
      background-color: #fff4cc;
      padding: 15px;
      margin-top: 20px;
      border-left: 5px solid #ffa500;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>

  <h1>üì≤ ErikAI SMS</h1>
  <button onclick="startSpeech('cislo')">üéôÔ∏è ƒå√≠slo</button>
<button onclick="startSpeech('sprava')">üé§ Spr√°va</button>

  <script>
function startSpeech(fieldId) {
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = 'sk-SK';
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;

  recognition.onresult = function(event) {
    const result = event.results[0][0].transcript;
    document.getElementById(fieldId).value = result;
  };

  recognition.start();
}
  </script>

  <form onsubmit="sendSMS(); return false;">
    <input type="text" id="cislo" placeholder="Telef√≥nne ƒç√≠slo (napr. 0904123456)" required><br>
    <textarea id="sprava" rows="4" placeholder="Sem nap√≠≈° spr√°vu..." required></textarea><br>
    <button type="submit">üì§ Odosla≈• SMS</button>
  </form>

  <label for="cisloSelect">üì± Vyber ulo≈æen√© ƒç√≠slo:</label>
<select id="cisloSelect" onchange="loadSaved('cislo', this.value)"></select>

<label for="spravaSelect">üí¨ Vyber ulo≈æen√∫ spr√°vu:</label>
<select id="spravaSelect" onchange="loadSaved('sprava', this.value)"></select>

  <script>
function saveToStorage(type, value) {
    let data = JSON.parse(localStorage.getItem('saved_' + type)) || [];
    data.unshift(value); // Prid√° na zaƒçiatok
    data = [...new Set(data)].slice(0, 10); // Unik√°tne, max 10
    localStorage.setItem('saved_' + type, JSON.stringify(data));
    loadSelectOptions(type);
}

function loadSelectOptions(type) {
    const select = document.getElementById(type + 'Select');
    select.innerHTML = '<option value="">-- Vyber --</option>';
    let data = JSON.parse(localStorage.getItem('saved_' + type)) || [];
    data.forEach(v => {
        const opt = document.createElement('option');
        opt.value = v;
        opt.textContent = v;
        select.appendChild(opt);
    });
}

function loadSaved(type, value) {
    if (value) {
        document.getElementById(type).value = value;
    }
}

// Ulo≈æenie po odoslan√≠ SMS:
function sendSMS() {
    var cislo = document.getElementById("cislo").value;
    var sprava = document.getElementById("sprava").value;
    if (cislo && sprava) {
        saveToStorage('cislo', cislo);
        saveToStorage('sprava', sprava);
        var smsLink = "sms:" + encodeURIComponent(cislo) + "?body=" + encodeURIComponent(sprava);
        window.location.href = smsLink;
    }
}
window.onload = function () {
    loadSelectOptions('cislo');
    loadSelectOptions('sprava');
};
  </script>

  <div class="warning">
    ‚ö†Ô∏è <strong>Upozornenie:</strong><br>
    T√°to funkcia neodosiela SMS automaticky. Po kliknut√≠ sa otvor√≠ tvoja predvolen√° SMS aplik√°cia, kde manu√°lne potvrd√≠≈° odoslanie.<br><br>
    üîí ErikAI neuklad√° ≈æiadne √∫daje. V≈°etko prebieha <strong>lok√°lne a bezpeƒçne</strong>.
  </div>

  <script>
    function sendSMS() {
      var cislo = document.getElementById("cislo").value.trim();
      var sprava = document.getElementById("sprava").value.trim();
      if (cislo && sprava) {
        var smsLink = "sms:" + encodeURIComponent(cislo) + "?body=" + encodeURIComponent(sprava);
        window.location.href = smsLink;
      }
    }
  </script>

  <p style="font-size: 14px; color: gray; margin-top: 20px;">
  This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.  
To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-nd/4.0/  
¬© 2025 Erik Mohyl√°k ‚Äì All rights reserved.
  </p>

</body>
</html>
