<!DOCTYPE html><html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>ErikAI Kalendár</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f2f2f2;
      color: #222;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .month {
      display: inline-block;
      margin: 10px;
      padding: 10px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 10px;
      width: 220px;
    }
    .month h3 {
      text-align: center;
      margin: 0 0 10px;
    }
    .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
    }
    .day {
      text-align: center;
      padding: 5px;
      border-radius: 5px;
      cursor: pointer;
    }
    .today {
      background: red;
      color: white;
      font-weight: bold;
    }
    .holiday {
      background: #90ee90;
    }
    .daynames {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-weight: bold;
      font-size: 12px;
      text-align: center;
      margin-bottom: 5px;
    }
    .controls {
      text-align: center;
      margin-bottom: 20px;
    }
    button {
      padding: 8px 16px;
      margin: 5px;
    }
  </style>
</head>
<body>
<h1>ErikAI Kalendár</h1>
<div class="controls">
  <button onclick="changeYear(-1)">◀ Rok späť</button>
  <span id="yearDisplay"></span>
  <button onclick="changeYear(1)">Rok vpred ▶</button>
</div>
<div id="calendar"></div><script>
const calendar = document.getElementById('calendar');
const yearDisplay = document.getElementById('yearDisplay');
const monthNames = [
  "Január", "Február", "Marec", "Apríl", "Máj", "Jún",
  "Júl", "August", "September", "Október", "November", "December"
];
const dayNames = ["Po", "Ut", "St", "Št", "Pi", "So", "Ne"];
const daysInMonth = (month, year) => new Date(year, month + 1, 0).getDate();

let currentYear = new Date().getFullYear();
let holidays = {
  // formát: 'MM-DD': 'popis'
  '01-01': 'Nový rok',
  '05-01': 'Sviatok práce',
  '07-05': 'Sviatok sv. Cyrila a Metoda',
  '09-01': 'Deň ústavy SR',
  '11-17': 'Deň boja za slobodu',
  '12-24': 'Vianoce (1)',
  '12-25': 'Vianoce (2)',
  '12-26': 'Vianoce (3)'
};

function renderCalendar(year) {
  calendar.innerHTML = '';
  yearDisplay.textContent = year;

  const today = new Date();

  for (let m = 0; m < 12; m++) {
    const monthDiv = document.createElement('div');
    monthDiv.className = 'month';

    const header = document.createElement('h3');
    header.textContent = monthNames[m];
    monthDiv.appendChild(header);

    const daynameDiv = document.createElement('div');
    daynameDiv.className = 'daynames';
    dayNames.forEach(dn => {
      const el = document.createElement('div');
      el.textContent = dn;
      daynameDiv.appendChild(el);
    });
    monthDiv.appendChild(daynameDiv);

    const daysDiv = document.createElement('div');
    daysDiv.className = 'days';

    const firstDay = new Date(year, m, 1).getDay();
    const offset = (firstDay + 6) % 7;

    for (let i = 0; i < offset; i++) {
      const empty = document.createElement('div');
      daysDiv.appendChild(empty);
    }

    const totalDays = daysInMonth(m, year);
    for (let d = 1; d <= totalDays; d++) {
      const dayDiv = document.createElement('div');
      dayDiv.className = 'day';
      dayDiv.textContent = d;

      const key = String(m + 1).padStart(2, '0') + '-' + String(d).padStart(2, '0');
      if (holidays[key]) {
        dayDiv.classList.add('holiday');
        dayDiv.title = holidays[key];
      }

      if (d === today.getDate() && m === today.getMonth() && year === today.getFullYear()) {
        dayDiv.classList.add('today');
      }

      dayDiv.onclick = () => {
        const popis = prompt("Zadaj popis pre "+d+"."+String(m+1).padStart(2, '0')+":" , holidays[key] || '');
        if (popis) {
          holidays[key] = popis;
          renderCalendar(year);
        }
      };

      daysDiv.appendChild(dayDiv);
    }

    monthDiv.appendChild(daysDiv);
    calendar.appendChild(monthDiv);
  }
}

function changeYear(offset) {
  currentYear += offset;
  renderCalendar(currentYear);
}

renderCalendar(currentYear);
</script><p id="cas" style="font-size: 18px;"></p>
<script>
function aktualizujCas() {
  const teraz = new Date();
  const moznosti = {
    weekday: 'long',
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit'
  };
  document.getElementById('cas').innerText = `\u23f0 Aktu\u00e1lny \u010das: ${teraz.toLocaleDateString('sk-SK', moznosti)}`;
}
setInterval(aktualizujCas, 1000);
aktualizujCas();
</script>
</body>
</html>
