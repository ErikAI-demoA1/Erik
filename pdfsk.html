<!DOCTYPE html><html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>ErikAI PDFsk</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f2f2f2; }
    h1 { color: #1976d2; }
    .button { padding: 10px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
    .green { background-color: #4CAF50; color: white; }
    .yellow { background-color: #ffc107; }
    .red { background-color: #f44336; color: white; }
    .gray { background-color: #e0e0e0; }
    .file-list span { margin: 5px; padding: 5px 10px; background: #fff176; display: inline-block; border-radius: 4px; cursor: pointer; }
    .file-list span:hover { background: #ffee58; }
  </style>
</head>
<body>  <h1>ğŸ“„ ErikAI PDFsk</h1>  <h3>Vyber PDF s obrÃ¡zkami:</h3>
  <input type="file" id="pdfInput" accept="application/pdf">
  <p id="selectedFileName" style="color: green"></p>  <h3>ğŸ“‚ MoÅ¾nosti konverzie:</h3>
  <button class="button green" onclick="exportAs('text')">StiahnuÅ¥ ako Text</button>
  <button class="button green" onclick="exportAs('word')">StiahnuÅ¥ ako Word</button>
  <button class="button green" onclick="exportAs('excel')">StiahnuÅ¥ ako Excel</button>  <h3>ğŸ“ LokÃ¡lna prÃ¡ca:</h3>
  <button class="button yellow" onclick="savePDFLocal()">ğŸ’¾ UloÅ¾iÅ¥ PDF lokÃ¡lne</button>
  <button class="button yellow" onclick="loadPDFLocal()">ğŸ“‚ NaÄÃ­taÅ¥ PDF</button>  <h3>ğŸ“– UloÅ¾enÃ© PDF dokumenty:</h3>
  <div class="file-list" id="savedFiles"></div>  <script>
    let currentPDF = null;

    document.getElementById('pdfInput').addEventListener('change', function (e) {
      const file = e.target.files[0];
      if (file && file.type === "application/pdf") {
        currentPDF = file;
        document.getElementById("selectedFileName").innerText = "âœ… SÃºbor: " + file.name;
      }
    });

    function exportAs(type) {
      if (!currentPDF) {
        alert("Najprv vyber PDF sÃºbor.");
        return;
      }

      // SimulÃ¡cia exportu (skutoÄnÃ½ OCR/konverznÃ½ engine by bol cez server/API)
      const blob = new Blob(["SimulÃ¡cia extrakcie obsahu z " + currentPDF.name], {type: 'text/plain'});
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = currentPDF.name.replace(".pdf", "." + type);
      link.click();
    }

    function savePDFLocal() {
      if (!currentPDF) {
        alert("Najprv vyber PDF na uloÅ¾enie.");
        return;
      }
      const reader = new FileReader();
      reader.onload = function(e) {
        localStorage.setItem("pdf_" + currentPDF.name, e.target.result);
        updateSavedList();
        alert("PDF uloÅ¾enÃ© lokÃ¡lne ako: " + currentPDF.name);
      }
      reader.readAsDataURL(currentPDF);
    }

    function loadPDFLocal() {
      const keys = Object.keys(localStorage).filter(k => k.startsWith("pdf_"));
      if (keys.length === 0) {
        alert("Nie sÃº uloÅ¾enÃ© PDF dokumenty.");
        return;
      }
      const name = prompt("Zadaj nÃ¡zov PDF na naÄÃ­tanie:", keys[0].replace("pdf_", ""));
      const fileData = localStorage.getItem("pdf_" + name);
      if (!fileData) {
        alert("PDF sÃºbor sa nenaÅ¡iel.");
        return;
      }
      currentPDF = new File([fileData], name, { type: "application/pdf" });
      document.getElementById("selectedFileName").innerText = "âœ… SÃºbor: " + name;
    }

    function updateSavedList() {
      const container = document.getElementById("savedFiles");
      container.innerHTML = "";
      const keys = Object.keys(localStorage).filter(k => k.startsWith("pdf_"));
      keys.forEach(k => {
        const span = document.createElement("span");
        const name = k.replace("pdf_", "");
        span.innerText = name;
        span.onclick = () => {
          const data = localStorage.getItem(k);
          currentPDF = new File([data], name, { type: "application/pdf" });
          document.getElementById("selectedFileName").innerText = "âœ… SÃºbor: " + name;
        }
        const del = document.createElement("button");
        del.innerText = "âŒ";
        del.className = "button red";
        del.onclick = (e) => {
          e.stopPropagation();
          if (confirm("Naozaj vymazaÅ¥ " + name + "?")) {
            localStorage.removeItem(k);
            updateSavedList();
          }
        }
        span.appendChild(del);
        container.appendChild(span);
      });
    }

    updateSavedList();
  </script></body>
</html>
