<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ErikAI Ultra Arena– battle režim</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f3f3f3;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #1e4e4e;
    }
    select, button {
      padding: 8px;
      margin: 10px;
      font-size: 16px;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(50, 40px);
      grid-template-rows: repeat(50, 40px);
      margin: 0 auto;
      border: 7px solid #999;
      width: fit-content;
    }
    .cell {
      width: 28px;
      height: 28px;
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .triangle {
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 18px solid red;
      position: relative;
    }
    .triangle::after {
      content: attr(data-number);
      position: absolute;
      top: -22px;
      font-size: 10px;
      font-weight: bold;
      color: black;
    }
    .player-info {
      margin-top: 10px;
      font-weight: bold;
    }
    footer {
      font-size: 12px;
      color: #444;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1> ErikAI Ultra Arena– battle režim </h1>

<p id="cas" style="font-size: 18px;"></p>

  <script>
    function aktualizujCas() {
      const teraz = new Date();
      const moznosti = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      };
      const casText = teraz.toLocaleDateString('sk-SK', moznosti);
      document.getElementById('cas').innerText = `🕓 Aktuálny čas: ${casText}`;
    }
    setInterval(aktualizujCas, 1000);
    aktualizujCas();
  </script>

  <button onclick="toggleTheme()">🌓 Zmeniť režim</button>

<script>
  function toggleTheme() {
    document.body.classList.toggle('dark-mode');
  }
</script>

<style>
  body.dark-mode {
    background-color: #121212;
    color: white;
  }
</style>
<select id="jazykovyVyber" onchange="prelozStranku(this.value)">
  <option value="">🌍 Vyber jazyk</option>
  <option value="af">Afrikaans</option>
  <option value="sq">Albanian</option>
  <option value="am">Amharic</option>
  <option value="ar">Arabic</option>
  <option value="hy">Armenian</option>
  <option value="az">Azerbaijani</option>
  <option value="eu">Basque</option>
  <option value="be">Belarusian</option>
  <option value="bn">Bengali</option>
  <option value="bs">Bosnian</option>
  <option value="bg">Bulgarian</option>
  <option value="ca">Catalan</option>
  <option value="ceb">Cebuano</option>
  <option value="zh-CN">Chinese (Simplified)</option>
  <option value="zh-TW">Chinese (Traditional)</option>
  <option value="hr">Croatian</option>
  <option value="cs">Czech</option>
  <option value="da">Danish</option>
  <option value="nl">Dutch</option>
  <option value="en">English</option>
  <option value="eo">Esperanto</option>
  <option value="et">Estonian</option>
  <option value="fi">Finnish</option>
  <option value="fr">French</option>
  <option value="gl">Galician</option>
  <option value="ka">Georgian</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="gu">Gujarati</option>
  <option value="ht">Haitian Creole</option>
  <option value="ha">Hausa</option>
  <option value="haw">Hawaiian</option>
  <option value="he">Hebrew</option>
  <option value="hi">Hindi</option>
  <option value="hmn">Hmong</option>
  <option value="hu">Hungarian</option>
  <option value="is">Icelandic</option>
  <option value="ig">Igbo</option>
  <option value="id">Indonesian</option>
  <option value="ga">Irish</option>
  <option value="it">Italian</option>
  <option value="ja">Japanese</option>
  <option value="jw">Javanese</option>
  <option value="kn">Kannada</option>
  <option value="kk">Kazakh</option>
  <option value="km">Khmer</option>
  <option value="ko">Korean</option>
  <option value="ku">Kurdish</option>
  <option value="ky">Kyrgyz</option>
  <option value="lo">Lao</option>
  <option value="la">Latin</option>
  <option value="lv">Latvian</option>
  <option value="lt">Lithuanian</option>
  <option value="lb">Luxembourgish</option>
  <option value="mk">Macedonian</option>
  <option value="mg">Malagasy</option>
  <option value="ms">Malay</option>
  <option value="ml">Malayalam</option>
  <option value="mt">Maltese</option>
  <option value="mi">Maori</option>
  <option value="mr">Marathi</option>
  <option value="mn">Mongolian</option>
  <option value="my">Myanmar</option>
  <option value="ne">Nepali</option>
  <option value="no">Norwegian</option>
  <option value="ny">Nyanja</option>
  <option value="ps">Pashto</option>
  <option value="fa">Persian</option>
  <option value="pl">Polish</option>
  <option value="pt">Portuguese</option>
  <option value="pa">Punjabi</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sm">Samoan</option>
  <option value="gd">Scots Gaelic</option>
  <option value="sr">Serbian</option>
  <option value="st">Sesotho</option>
  <option value="sn">Shona</option>
  <option value="sd">Sindhi</option>
  <option value="si">Sinhala</option>
  <option value="sk">Slovak</option>
  <option value="sl">Slovenian</option>
  <option value="so">Somali</option>
  <option value="es">Spanish</option>
  <option value="su">Sundanese</option>
  <option value="sw">Swahili</option>
  <option value="sv">Swedish</option>
  <option value="tl">Tagalog</option>
  <option value="tg">Tajik</option>
  <option value="ta">Tamil</option>
  <option value="te">Telugu</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="ur">Urdu</option>
  <option value="uz">Uzbek</option>
  <option value="vi">Vietnamese</option>
  <option value="cy">Welsh</option>
  <option value="xh">Xhosa</option>
  <option value="yi">Yiddish</option>
  <option value="yo">Yoruba</option>
  <option value="zu">Zulu</option>
</select>

<script>
  function prelozStranku(jazyk) {
    if (jazyk !== "") {
      const currentUrl = window.location.href;
      window.location.href = `https://translate.google.com/translate?sl=auto&tl=${jazyk}&u=${encodeURIComponent(currentUrl)}`;
    }
  }
</script>
  
  <div>
    <label>Počet hráčov:</label>
    <select id="playerCount">
      <option>2 hráči</option>
      <option>3 hráči</option>
      <option>4 hráči</option>
      <option>5 hráči</option>
      <option>6 hráči</option>
      <option>7 hráčov</option>
      <option>8 hráčov</option>
      <option>9 hráčov</option>
      <option>10 hráčov</option>
      <option>11 hráčov</option>
      <option>12 hráčov</option>
      <option>13 hráčov</option>
      <option>14 hráčov</option>
      <option>15 hráčov</option>
      <option>16 hráčov</option>
      <option>17 hráčov</option>
      <option>18 hráčov</option>
      <option>19 hráčov</option>
      <option>20 hráčov</option>
      <option>21 hráčov</option>
<option>22 hráčov</option>
<option>23 hráčov</option>
<option>24 hráčov</option>
<option>25 hráčov</option>
<option>26 hráčov</option>
<option>27 hráčov</option>
<option>28 hráčov</option>
<option>29 hráčov</option>
<option>30 hráčov</option>
<option>31 hráčov</option>
<option>32 hráčov</option>
<option>33 hráčov</option>
<option>34 hráčov</option>
<option>35 hráčov</option>
<option>36 hráčov</option>
<option>37 hráčov</option>
<option>38 hráčov</option>
<option>39 hráčov</option>
<option>40 hráčov</option>
<option>41 hráčov</option>
<option>42 hráčov</option>
<option>43 hráčov</option>
<option>44 hráčov</option>
<option>45 hráčov</option>
<option>46 hráčov</option>
<option>47 hráčov</option>
<option>48 hráčov</option>
<option>49 hráčov</option>
<option>50 hráčov</option>
<option>51 hráčov</option>
<option>52 hráčov</option>
<option>53 hráčov</option>
<option>54 hráčov</option>
<option>55 hráčov</option>
<option>56 hráčov</option>
<option>57 hráčov</option>
<option>58 hráčov</option>
<option>59 hráčov</option>
<option>60 hráčov</option>
<option>61 hráčov</option>
<option>62 hráčov</option>
<option>63 hráčov</option>
<option>64 hráčov</option>
<option>65 hráčov</option>
<option>66 hráčov</option>
<option>67 hráčov</option>
<option>68 hráčov</option>
<option>69 hráčov</option>
<option>70 hráčov</option>
<option>71 hráčov</option>
<option>72 hráčov</option>
<option>73 hráčov</option>
<option>74 hráčov</option>
<option>75 hráčov</option>
<option>76 hráčov</option>
<option>77 hráčov</option>
<option>78 hráčov</option>
<option>79 hráčov</option>
<option>80 hráčov</option>
<option>81 hráčov</option>
<option>82 hráčov</option>
<option>83 hráčov</option>
<option>84 hráčov</option>
<option>85 hráčov</option>
<option>86 hráčov</option>
<option>87 hráčov</option>
<option>88 hráčov</option>
<option>89 hráčov</option>
<option>90 hráčov</option>
<option>91 hráčov</option>
<option>92 hráčov</option>
<option>93 hráčov</option>
<option>94 hráčov</option>
<option>95 hráčov</option>
<option>96 hráčov</option>
<option>97 hráčov</option>
<option>98 hráčov</option>
<option>99 hráčov</option>
      <option selected>100 hráčov</option>
    </select>
    <button onclick="rollDice()">Hod kockou 🎲</button>
  </div>
  <div class="player-info" id="info"></div>
  <div class="board" id="board"></div>

  <footer>
    This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. © 2025 Erik Mohylák – All rights reserved.
  </footer>

  <script>
    const board = document.getElementById("board");
    const info = document.getElementById("info");
    const colors = ["red", "blue", "green", "yellow", "orange", "purple", "pink", "cyan", "lime", "magenta", "brown", "navy", "black", "gray", "gold", "darkgreen", "darkorange", "violet", "teal", "indigo", "crimson", "deepskyblue", "forestgreen", "darkred", "chartreuse", "hotpink", "slateblue", "coral", "khaki", "steelblue","maroon", "olive", "skyblue", "orchid", "turquoise", "salmon", "plum", "chocolate", "lightgreen", "firebrick", "mediumblue", "darkcyan", "aquamarine", "darkmagenta", "lavender", "lightcoral", "dodgerblue", "mediumorchid", "sienna", "thistle", "springgreen", "tomato", "darkkhaki", "peachpuff", "rosybrown", "mediumslateblue", "seagreen", "mistyrose", "cadetblue", "goldenrod", "slategrey", "powderblue", "limegreen", "mediumvioletred", "lightblue", "indianred", "palegreen", "lightpink", "darkblue", "mediumseagreen", "mediumturquoise", "peru", "palevioletred", "burlywood", "darkolivegreen", "lightseagreen", "gainsboro", "blanchedalmond", "mediumaquamarine", "darkgoldenrod", "lightsteelblue", "navajowhite", "darkslategray", "papayawhip", "rosybrown", "oldlace", "mediumspringgreen", "lightsalmon", "darkslateblue", "lightyellow", "seashell", "honeydew", "azure", "lavenderblush", "moccasin", "wheat", "lemonchiffon", "snow", "floralwhite", "mintcream"];

    let currentPlayer = 0;
    let diceRoll = 0;
    let players = [];

    // Vytvorenie 25x25 gridu
    for (let y = 0; y < 50; y++) {
      for (let x = 0; x < 50; x++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.dataset.x = x;
        cell.dataset.y = y;
        cell.addEventListener("click", () => cellClicked(cell));
        board.appendChild(cell);
      }
    }

    function rollDice() {
      const playerSelect = document.getElementById("playerCount");
      const count = parseInt(playerSelect.value);
      if (players.length !== count) setupPlayers(count);
      if (players[currentPlayer].pos === -1) {
        nextTurn();
        return;
      }

      diceRoll = Math.floor(Math.random() * 6) + 1;
      const color = players[currentPlayer].color;
      info.innerText = `Hráč ${currentPlayer + 1} (${color}) hodil: ${diceRoll}. Vyber políčko na pohyb.`;
    }

    function setupPlayers(count) {
      players = [];
      board.querySelectorAll(".cell").forEach(cell => cell.innerHTML = "");
      const used = new Set();
      for (let i = 0; i < count; i++) {
        const color = colors[i];
        let pos;
        do {
          pos = Math.floor(Math.random() * (50 * 50));
        } while (used.has(pos));
        used.add(pos);

        const cell = board.children[pos];
        const fig = document.createElement("div");
        fig.className = "triangle";
        fig.style.borderBottomColor = color;
        fig.dataset.player = i;
        fig.dataset.number = i + 1;
        cell.appendChild(fig);
        players.push({ color, pos: pos });
      }
    }

    function cellClicked(cell) {
      if (!diceRoll) return;

      const player = players[currentPlayer];
      if (player.pos === -1) return;

      const currentCell = board.children[player.pos];
      const targetIndex = Array.from(board.children).indexOf(cell);
      const dx = Math.abs(cell.dataset.x - currentCell.dataset.x);
      const dy = Math.abs(cell.dataset.y - currentCell.dataset.y);
      const distance = dx + dy;

      if (distance !== diceRoll) {
        info.innerText += ` Môžeš ísť presne o ${diceRoll} políčok.`;
        return;
      }

      if (cell.children.length > 0) {
        const otherFig = cell.children[0];
        const otherPlayerIndex = parseInt(otherFig.dataset.player);
        if (otherPlayerIndex !== currentPlayer) {
          players[otherPlayerIndex].pos = -1;
          cell.innerHTML = "";
        } else {
          info.innerText += " Nemôžeš ísť na svoju figúrku!";
          return;
        }
      }

      board.children[player.pos].innerHTML = "";

      const fig = document.createElement("div");
      fig.className = "triangle";
      fig.style.borderBottomColor = player.color;
      fig.dataset.player = currentPlayer;
      fig.dataset.number = currentPlayer + 1;
      cell.appendChild(fig);
      player.pos = targetIndex;

      diceRoll = 0;
      nextTurn();
    }

    function nextTurn() {
      currentPlayer = (currentPlayer + 1) % players.length;
      const nextColor = players[currentPlayer].color;
      info.innerText = `Hráč ${currentPlayer + 1} (${nextColor}) na ťahu. Klikni „Hod kockou 🎲“.`;
    }
  </script>
</body>
</html>
